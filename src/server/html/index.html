<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="contextmenu.css" />

    <script type="text/javascript" src="gamescreen.js"></script>
    <script type="text/javascript" src="contextmenu.js"></script>
  </head>

  <body>
    <canvas id="screen"></canvas>

    <div id="buttons">
      <button onmouseup="sendIOEvent(EventType.KeyUp, GAME_KEY_MAP.ArrowLeft);"
              onmousedown="sendIOEvent(EventType.KeyDown, GAME_KEY_MAP.ArrowLeft);">L</button>
      <button onmouseup="sendIOEvent(EventType.KeyUp, GAME_KEY_MAP.ArrowUp);"
              onmousedown="sendIOEvent(EventType.KeyDown, GAME_KEY_MAP.ArrowUp);">U</button>
      <button onmouseup="sendIOEvent(EventType.KeyUp, GAME_KEY_MAP.ArrowRight);"
              onmousedown="sendIOEvent(EventType.KeyDown, GAME_KEY_MAP.ArrowRight);">R</button>
      <button onmouseup="sendIOEvent(EventType.KeyUp, GAME_KEY_MAP.ArrowDown);"
              onmousedown="sendIOEvent(EventType.KeyDown, GAME_KEY_MAP.ArrowDown);">D</button>

      <button onmouseup="sendIOEvent(EventType.KeyUp, GAME_KEY_MAP.KeyA);"
              onmousedown="sendIOEvent(EventType.KeyDown, GAME_KEY_MAP.KeyA);">A</button>
      <button onmouseup="sendIOEvent(EventType.KeyUp, GAME_KEY_MAP.KeyB);"
              onmousedown="sendIOEvent(EventType.KeyDown, GAME_KEY_MAP.KeyB);">B</button>
      <button onmouseup="sendIOEvent(EventType.KeyUp, GAME_KEY_MAP.Space);"
              onmousedown="sendIOEvent(EventType.KeyDown, GAME_KEY_MAP.Space);">Start</button>
      <button onmouseup="sendIOEvent(EventType.KeyUp, GAME_KEY_MAP.KeyF);"
              onmousedown="sendIOEvent(EventType.KeyDown, GAME_KEY_MAP.KeyF);">Select</button>
    </div>

    <menu class="menu">
      <li class="menu-item">
        <button type="button" class="menu-btn">
          <i class="fa fa-folder-open"></i> <span class="menu-text">Open</span>
        </button>
      </li>
      <li class="menu-item disabled">
        <button type="button" class="menu-btn">
          <span class="menu-text">Open in New Window</span>
        </button>
      </li>
      <li class="menu-separator"></li>
      <li class="menu-item">
        <button type="button" class="menu-btn">
          <i class="fa fa-reply"></i> <span class="menu-text">Reply</span>
        </button>
      </li>
      <li class="menu-item">
        <button type="button" class="menu-btn">
          <i class="fa fa-star"></i> <span class="menu-text">Favorite</span>
        </button>
      </li>
      <li class="menu-item submenu">
        <button type="button" class="menu-btn">
          <i class="fa fa-users"></i> <span class="menu-text">Social</span>
        </button>
        <menu class="menu">
          <li class="menu-item">
            <button type="button" class="menu-btn">
              <i class="fa fa-comment"></i> <span class="menu-text">Comment</span>
            </button>
          </li>
          <li class="menu-item submenu">
            <button type="button" class="menu-btn">
              <i class="fa fa-share"></i> <span class="menu-text">Share</span>
            </button>
            <menu class="menu">
              <li class="menu-item">
                <button type="button" class="menu-btn">
                  <i class="fa fa-twitter"></i> <span class="menu-text">Twitter</span>
                </button>
              </li>
              <li class="menu-item">
                <button type="button" class="menu-btn"> <i class="fa fa-facebook-official"></i> <span class="menu-text">Facebook</span> </button>
              </li>
              <li class="menu-item">
                <button type="button" class="menu-btn"> <i class="fa fa-google-plus"></i> <span class="menu-text">Google Plus</span> </button>
              </li>
              <li class="menu-item">
                <button type="button" class="menu-btn"> <i class="fa fa-envelope"></i> <span class="menu-text">Email</span> </button>
              </li>
            </menu>
          </li>
        </menu>
      </li>
      <li class="menu-separator"></li>
      <li class="menu-item">
        <button type="button" class="menu-btn"> <i class="fa fa-download"></i> <span class="menu-text">Save</span> </button>
      </li>
      <li class="menu-item">
        <button type="button" class="menu-btn"> <i class="fa fa-edit"></i> <span class="menu-text">Rename</span> </button>
      </li>
      <li class="menu-item">
        <button type="button" class="menu-btn"> <i class="fa fa-trash"></i> <span class="menu-text">Delete</span> </button>
      </li>
    </menu>
  </body>

  <script type="text/javascript">
    GameContextMenu.init();

    document.addEventListener("readystatechange", event => {
        if (event.target.readyState === "complete") {
            screen = new GameScreen("screen");
        }
    });

    document.addEventListener("keyup", event => {
        screen.onKeyUp(event);
    });

    document.addEventListener("keydown", event => {
        screen.onKeyDown(event);
    });

    function sendIOEvent(event, button)
    {
        screen.sendEventMessage(event, button);
    }
  </script>
</html>
